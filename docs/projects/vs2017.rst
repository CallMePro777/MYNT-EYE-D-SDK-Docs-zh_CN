.. role:: raw-latex(raw)
   :format: latex
..

.. _vs2017:

Visual Studio 2017 如何使用 SDK
===============================

本教程将使用 Visual Studio 2017 创建一个项目来使用 SDK 。

   你可以在 ``<sdk>/platforms/projects/vs2017`` 目录下找到工程样例。

准备
----

-  Windows: 安装 SDK 的 exe 包

创建项目
--------

打开 Visual Studio 2017 ，然后 ``File > New > Project``\ ，

|image0|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{1_new_pro.png}`
:raw-latex:`\endlatexonly`

选择 “Windows Console Application” ，设置项目位置和名字，点击 “OK”，

|image1|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{2_new_pro.png}`
:raw-latex:`\endlatexonly`

最后，你可以看到一个新的项目被创建，

|image2|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{3_new_pro.png}`
:raw-latex:`\endlatexonly`

配置项目
--------

右键点击该项目， 打开 “Properties” 窗口，

|image3|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=0.6\textwidth]{4_config.png}`
:raw-latex:`\endlatexonly`

将 “Configuration” 更改为 “All Configurations” ，然后添加以下路径到
“Additional Include Directories” ，

.. code:: bash

   $(MYNTEYED_SDK_ROOT)\include
   $(MYNTEYED_SDK_ROOT)\3rdparty\opencv\build\include

|image4|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{5_config_include.png}`
:raw-latex:`\endlatexonly`

添加以下定义到 “Preprocessor Definitions”,

.. code:: bash

   WITH_OPENCV
   WITH_OPENCV3

|image5|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{6_config_definition.png}`
:raw-latex:`\endlatexonly`

添加以下路径到 “Additional Library Directories” ，

.. code:: bash

   $(MYNTEYED_SDK_ROOT)\lib
   $(MYNTEYED_SDK_ROOT)\3rdparty\opencv\build\x64\vc15\lib

|image6|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{7_config_lib_dir.png}`
:raw-latex:`\endlatexonly`

添加以下库到 “Additional Dependencies” ，

.. code:: bash

   mynteye_depth.lib
   opencv_world343.lib

|image7|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{8_config_lib.png}`
:raw-latex:`\endlatexonly`

使用SDK
-------

添加头文件和使用 API ，

|image8|

.. raw:: latex

   \latexonly

:raw-latex:`\includegraphics[width=1\textwidth]{9_run_x64.png}`
:raw-latex:`\endlatexonly`

选择 “Release x64” 来运行项目。

.. |image0| image:: ../static/images/projects/vs2017/1_new_pro.png
.. |image1| image:: ../static/images/projects/vs2017/2_new_pro.png
.. |image2| image:: ../static/images/projects/vs2017/3_new_pro.png
.. |image3| image:: ../static/images/projects/vs2017/4_config.png
.. |image4| image:: ../static/images/projects/vs2017/5_config_include.png
.. |image5| image:: ../static/images/projects/vs2017/6_config_definition.png
.. |image6| image:: ../static/images/projects/vs2017/7_config_lib_dir.png
.. |image7| image:: ../static/images/projects/vs2017/8_config_lib.png
.. |image8| image:: ../static/images/projects/vs2017/9_run_x64.png
